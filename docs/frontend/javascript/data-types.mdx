---
id: data-types
title: 数据类型
sidebar_position: 1
---

# 数据类型

- [MDN - JavaScript 数据类型和数据结构](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#javascript_types)
- [ECMAScript Data Types and Values](https://262.ecma-international.org/6.0/#sec-ecmascript-data-types-and-values)

## Undefined - 未定义

需要区分 **undefined** 是一个全局对象的一个属性（全局变量），而 **Undefined** 是类型。

```js
  var x;
  console.log(x); // undefined
  // 对于未赋值的变量，此时类型为Undefined, 值为undefined
```

:::tip 使用 "void 0" 来赋值
  由于 undefined 并非关键字（算是设计失误），所以为了避免被意外篡改导致的问题，应保险起见使用 `void 0` 生成 undefined 值。
:::

### 比较 undefined 值
```js
  var x;
  // 1. 使用 ===
  if (x === undefined) {
    console.log('is undefined') // is undefined
  }
  // 2. 使用typeof
  if (typeof x === 'undefined') {
    console.log('is undefined') // is undefined
  }
```

## Null - 空值

相较于 Undefined, Null表示**已定义**但值为空。

而类似于 Undefined/undefined, 需要区分**null**是一个字面量，而**Null**是类型。

:::tip null vs undefined
```js
  typeof null        // "object"
  typeof undefined   // "undefined"

  null === undefined // false
  null == undefined // true

  !undefined //true
  !null //true

  isNaN(1 + null) // false
  isNaN(1 + undefined) // true
```
:::

## Boolean - 布尔值

只会为两种原始值之一， `true` 和 `false` 。

## String - 字符串

根据[ECMAScript](https://262.ecma-international.org/6.0/#sec-ecmascript-language-types-string-type)的定义，字符串类型是
长度不超过2<sup>53</sup> - 1的UTF-16编码合集。

## Number - 数字

基于 IEEE 754 标准的双精度 64 位二进制格式的值，范围从-(2<sup>53</sup> -1) 到 2<sup>53</sup> -1）

**特殊值**
- NaN
- Infinity
- -Infinity

:::tip +0 和 -0 的区别
  ```js
    +0 === -0; // true
    1 / +0; // Infinity
    1 / -0; // -Infinity
  ```
:::

:::tip 非整数的对比
  ```js
    var x = 0.3 - 0.2;
    var y = 0.1;

    console.log(x === y); // false
    console.log(x - y <= Number.EPSILON); // true
  ```
:::

### Symbol
- Introduced in ES6
- Non-string object key
- Symbol.iterator

### Object
- key type: String or Symbol
- Object type: Number, String, Boolean, Symbol
```javascript
new Number(3)
```
- Change prototype of object type will apply to primitive type
```javascript
Symbol.prototype.hello = () => console.log("hello")
var a = Symbol("a");
a.hello(); // hello
```

## Type Conversion
### StringToNumber
- StringToNumber supports: DEC, BIN, OCT, HEX, scientific notation
- Normally using Number is better than parseInt and parseFloat

### NumberToString
- Extreme large or small value will use scientific notation
